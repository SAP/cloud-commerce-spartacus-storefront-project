<cx-view #view *ngIf="code$ | async as orgUnitCode">
  <form [formGroup]="form" (ngSubmit)="save($event, form)">
    <h3>
      <a
        class="link"
        [routerLink]="
          { cxRoute: 'orgUnitManageAddresses', params: { uid: orgUnitCode } }
            | cxUrl
        "
        (click)="view.toggle()"
      >
        <cx-icon type="CARET_LEFT"></cx-icon>
      </a>

      <span>{{
        'units.unitAddressCreate.header' | cxTranslate: { code: orgUnitCode }
      }}</span>
    </h3>

    <section class="half">
      <cx-unit-address-form [form]="form"></cx-unit-address-form>
      <div class="form-buttons">
        <button class="button primary" type="submit">
          {{ 'organization.save' | cxTranslate }}
        </button>
        <button
          [routerLink]="{ cxRoute: 'orgUnits' } | cxUrl"
          class="button secondary"
          (click)="view.toggle()"
        >
          {{ 'organization.cancel' | cxTranslate }}
        </button>
      </div>
    </section>
  </form>
</cx-view>
