<cx-view #view>
  <form
    *ngIf="form$ | async as form"
    [formGroup]="form"
    (ngSubmit)="save($event, form)"
  >
    <h3>
      <a
        class="link"
        [routerLink]="{ cxRoute: 'orgUnits' } | cxUrl"
        (click)="view.toggle()"
      >
        <cx-icon type="CARET_LEFT"></cx-icon>
      </a>
      {{ 'units.orgUnitForm.create' | cxTranslate }}
    </h3>

    <section class="half">
      <cx-unit-form [form]="form"></cx-unit-form>
      <button class="button primary" type="submit">
        {{ 'organization.save' | cxTranslate }}
      </button>
      <button
        [routerLink]="{ cxRoute: 'orgUnits' } | cxUrl"
        class="button secondary"
      >
        {{ 'organization.cancel' | cxTranslate }}
      </button>
    </section>
  </form>
</cx-view>
