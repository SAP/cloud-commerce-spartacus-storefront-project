<form [formGroup]="deliveryOptionsForm" *ngIf="availableForPickup">
  <div class="form-check">
    <input
      type="radio"
      role="radio"
      id="delivery"
      value="delivery"
      (click)="clearIntendedPickupLocation()"
      formControlName="deliveryOption"
      [attr.aria-label]="'deliveryOptions.delivery' | cxTranslate"
      [attr.aria-checked]="
        deliveryOptionsForm.value.deliveryOption === 'delivery'
      "
    />
    <label for="delivery">
      {{ 'deliveryOptions.delivery' | cxTranslate }}
    </label>
  </div>
  <div class="form-check">
    <input
      type="radio"
      role="radio"
      id="pickup"
      value="pickup"
      (click)="openDialog()"
      formControlName="deliveryOption"
      [attr.aria-label]="'deliveryOptions.pickup' | cxTranslate"
      [attr.aria-checked]="
        deliveryOptionsForm.value.deliveryOption === 'pickup'
      "
    />
    <label for="pickup">
      <p>
        {{ 'deliveryOptions.pickup' | cxTranslate }}:
        <ng-container
          *ngIf="
            displayPickupLocation$ | async as displayPickupLocation;
            else selectStore
          "
        >
          <strong>{{ displayPickupLocation }}</strong> |
          <a role="button">{{ 'deliveryOptions.changeStore' | cxTranslate }}</a>
        </ng-container>
        <ng-template #selectStore>
          <a role="button">{{ 'deliveryOptions.selectStore' | cxTranslate }}</a>
        </ng-template>
      </p>
    </label>
  </div>
</form>
