<div
  class="cx-product-card"
  [ngClass]="{
    'cx-product-card-selected': product.selected
  }"
>
  <div class="cx-product-card-rows">
    <div class="cx-product-card-imgs">
      <ng-container *ngIf="product?.images?.length; else noimages">
        <img
          [alt]="product.images[0].altText"
          [src]="product.images[0].url"
          *ngIf="product.images[0]"
        />
      </ng-container>

      <ng-template #noimages>
        <div class="cx-product-card-imgs-fake"></div
      ></ng-template>
    </div>

    <div class="cx-product-card-info">
      <div class="cx-product-card-name">
        <a
          [routerLink]="{ cxRoute: 'product', params: product } | cxUrl"
          class="cx-link"
          cxModal="dismiss"
          target="_blank"
        >
          {{ product.valueDisplay }}</a
        >
      </div>
      <div class="cx-product-card-code">
        {{ 'configurator.attribute.id' | cxTranslate }}: {{ product.valueCode }}
      </div>
      <cx-configurator-show-more
        [text]="product.description"
      ></cx-configurator-show-more>
    </div>
  </div>

  <div class="cx-product-card-rows">
    <div
      class="cx-product-card-quantity"
      *ngIf="multiSelect && product.selected"
    >
      <label>{{ 'configurator.attribute.quantity' | cxTranslate }}</label>
      <cx-item-counter
        [allowZero]="!disabledAction"
        [control]="quantity"
        [min]="disabledAction ? 1 : 0"
        [readonly]="loading"
      ></cx-item-counter>
    </div>
    <div class="cx-product-card-price"></div>
  </div>

  <div class="cx-product-card-rows">
    <div class="cx-product-card-action">
      <ng-container *ngIf="multiSelect; else single">
        <button
          *ngIf="product.selected; else select"
          class="btn btn-secondary"
          (click)="onHandleDeselect()"
          [disabled]="disabledAction"
        >
          {{ 'configurator.button.remove' | cxTranslate }}
        </button>
        <ng-template #select>
          <button class="btn btn-primary" (click)="onHandleSelect()">
            {{ 'configurator.button.add' | cxTranslate }}
          </button>
        </ng-template>
      </ng-container>
      <ng-template #single>
        <button
          *ngIf="product.selected; else select"
          class="btn btn-secondary"
          (click)="onHandleDeselect()"
          [disabled]="disabledAction"
        >
          {{ 'configurator.button.deselect' | cxTranslate }}
        </button>
        <ng-template #select>
          <button class="btn btn-primary" (click)="onHandleSelect()">
            {{ 'configurator.button.select' | cxTranslate }}
          </button>
        </ng-template>
      </ng-template>
    </div>
  </div>
</div>
