<div class="cx-asm-customer-360" (esc)="closeModal('Escape clicked')">
  <!-- Modal Header -->
  <ng-container>
    <div class="cx-dialog-header modal-header">
      <div class="header-title">
        <h3 id="asm-customer-360-title" class="modal-title">
          {{ 'asm.customer360.title' | cxTranslate }}
        </h3>
        <div id="asm-customer-360-desc" class="cx-visually-hidden">
          {{ 'asm.customer360.title' | cxTranslate }}
        </div>
        <ng-template *ngTemplateOutlet="closeButton"></ng-template>
      </div>
      <div class="header-content">
        <div class="header-content-container">
          <div class="cx-customer-info-container">
            <div class="cx-avatar">
              {{ getAvatar() }}
            </div>
            <div class="cx-customer-info ml-3">
              <div class="cx-customer-name">
                {{
                  'asm.customer360.subTitle'
                    | cxTranslate: { name: customer.firstName }
                }}
              </div>
              <div class="cx-customer-email">
                {{ customer.uid }}
              </div>
            </div>
          </div>
          <div class="login-info">Signed up 35 minutes ago 06-04-2007</div>
        </div>
      </div>
    </div>

    <!-- Modal Body -->
    <div class="cx-dialog-body">
      <div class="cx-dialog-row">
        <div class="cx-dialog-item">
          <div class="cx-tab-container">
            <a
              class="cx-tab"
              *ngFor="let tab of tabs; let i = index"
              (click)="selectTab(i)"
              [class.active]="activeTab === i"
            >
              {{ getTabTitle(tab.sectionTitle) | async }}
            </a>
          </div>
        </div>
      </div>
      <div class="cx-tab-content modal-body">
        <ng-container [ngSwitch]="activeTab">
          <cx-asm-customer-overview
            *ngSwitchCase="0"
            [customer]="customer"
            (navigate)="navigateTo($event)"
          ></cx-asm-customer-overview>
          <cx-asm-customer-profile
            *ngSwitchCase="1"
            [customer]="customer"
          ></cx-asm-customer-profile>
          <cx-asm-customer-activity
            *ngSwitchCase="2"
          ></cx-asm-customer-activity>
          <cx-asm-customer-feedback
            *ngSwitchCase="3"
          ></cx-asm-customer-feedback>
          <cx-asm-customer-promotions
            *ngSwitchCase="4"
          ></cx-asm-customer-promotions>
          <cx-asm-customer-map *ngSwitchCase="5"></cx-asm-customer-map>
          <span *ngSwitchDefault>
            {{ getActiveTabContent() }}
          </span>
        </ng-container>
      </div>
    </div>
  </ng-container>
</div>

<ng-template #closeButton>
  <button
    type="button"
    class="close"
    attr.aria-label="{{ 'common.close' | cxTranslate }}"
    cxModal="dismiss"
    cxModalReason="Cross click"
  >
    <span>
      <cx-icon [type]="iconTypes.CLOSE"></cx-icon>
    </span>
  </button>
</ng-template>
