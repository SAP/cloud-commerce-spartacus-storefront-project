<div class="table-heading" *ngIf="headerText">
  <div class="table-heading-text">
    {{ headerText }}
  </div>
  <div class="table-heading-pages" *ngIf="entryPages">
    <ng-container
      *ngFor="let page of entryPages; let pageNumber = index"
    >
      <div
        *ngIf="entryPages.length > 1"
        (click)="setPageNumber(pageNumber)"
        class="table-heading-page"
        [class.active]="currentPage === pageNumber"
      >
        {{ pageNumber + 1 }}
      </div>
    </ng-container>
  </div>
</div>
<hr class="table-separator" />
<ng-container *ngIf="entryPages?.length && columns?.length">
  <table class="table">
    <tr class="table-row-header">
      <th
        *ngFor="let column of columns"
        (click)="sortEntriesAndUpdatePages(column.property)"
        [class.active]="sortProperty === column.property"
        [class.asc]="reverseSort"
        [class.desc]="!reverseSort"
      >
        {{ column.text }}
      </th>
    </tr>
    <tr
      class="table-row"
      *ngFor="let entry of entryPages?.[currentPage]"
    >
      <td *ngFor="let column of columns">
        <!--
        <a
          *ngIf="entry[column.property]?.details?.url; else starRating"
          [href]="entry[column.property].details.url"
          >{{
            entry[column.property].text || entry[column.property].value || '---'
          }}</a
        >
        -->
        <ng-container *ngIf="column.renderAsStarRating; else tableCell">
          <cx-star-rating
            [rating]="entry[column.property]"
          ></cx-star-rating>
        </ng-container>

        <ng-template #starRating>
          <cx-star-rating
            *ngIf="entry[column.property]?.details?.starRating; else tableCell"
            [rating]="entry[column.property].value"
          ></cx-star-rating>
        </ng-template>
        <ng-template #tableCell>
          <ng-container>{{
            entry[column.property] || '---'
          }}</ng-container>
        </ng-template>
      </td>
    </tr>
  </table>
</ng-container>
<div class="table-empty" *ngIf="!entryPages?.length">
  {{ emptyStateText }}
</div>
