<cx-spinner class="overlay" *ngIf="isUpdating$ | async"> </cx-spinner>
<div class="center-location">
  <label class="myaccount-password-header half-width">{{
    'newPasswordForm.newPasswordTitle' | cxTranslate
  }}</label>
</div>
<div class="center-location">
  <cx-message
    *ngIf="showingAlert"
    [text]="'newPasswordForm.reloginIndicator' | cxTranslate"
    class="half-width"
    [type]="globalMessageType.MSG_TYPE_INFO"
    (closeMessage)="closeDialogConfirmationAlert()"
  ></cx-message>
</div>

<div class="center-location">
  <form class="half-width" (ngSubmit)="onSubmit()" [formGroup]="form">
    <label class="myaccount-label-padding">
      <span class="label-content myaccount-password-label">{{
        'newPasswordForm.oldPassword.label' | cxTranslate
      }}</span>
      <input
        required="true"
        class="form-control"
        [(ngModel)]="oldPassword"
        type="password"
        name="oldPassword"
        placeholder="{{
          'newPasswordForm.oldPassword.placeholder' | cxTranslate
        }}"
        formControlName="oldPassword"
        [attr.aria-label]="
          'newPasswordForm.oldPassword.placeholder' | cxTranslate
        "
        cxPasswordVisibilitySwitch
      />
      <cx-form-errors [control]="form.get('oldPassword')"></cx-form-errors>
    </label>

    <label class="myaccount-label-padding">
      <span class="label-content myaccount-password-label">{{
        'newPasswordForm.newPassword.label' | cxTranslate
      }}</span>
      <input
        required="true"
        class="form-control"
        [(ngModel)]="newPassword"
        type="password"
        name="newPassword"
        placeholder="{{
          'newPasswordForm.newPassword.placeholder' | cxTranslate
        }}"
        formControlName="newPassword"
        [attr.aria-label]="
          'newPasswordForm.newPassword.placeholder' | cxTranslate
        "
        cxPasswordVisibilitySwitch
      />
      <cx-form-errors [control]="form.get('newPassword')"></cx-form-errors>
    </label>

    <label class="myaccount-label-padding">
      <span class="label-content myaccount-password-label">{{
        'newPasswordForm.confirmPassword.label' | cxTranslate
      }}</span>
      <input
        required="true"
        class="form-control"
        [(ngModel)]="newPasswordConfirm"
        type="password"
        name="newPasswordConfirm"
        placeholder="{{
          'newPasswordForm.confirmPassword.placeholder' | cxTranslate
        }}"
        formControlName="newPasswordConfirm"
        [attr.aria-label]="
          'newPasswordForm.confirmPassword.placeholder' | cxTranslate
        "
        cxPasswordVisibilitySwitch
      />
      <cx-form-errors
        [control]="form.get('newPasswordConfirm')"
      ></cx-form-errors>
    </label>

    <div class="password-btn-group-row">
      <div class="password-btn-group">
        <button
          class="btn myaccount-password-button myaccount-password-button-cancel"
          (click)="onCancel()"
        >
          {{ 'common.cancel' | cxTranslate }}
        </button>
        <button
          class="btn btn-primary myaccount-password-button"
          [disabled]="form.disabled"
        >
          {{ 'common.save' | cxTranslate }}
        </button>
      </div>
    </div>
  </form>
</div>
