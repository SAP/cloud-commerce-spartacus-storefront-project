<div
  [cxFocus]="focusConfig"
  (esc)="close('Escape clicked')"
  class="cx-import-entries-dialog"
>
  <div class="cx-import-entries-container">
    <!-- Modal Header -->
    <div class="modal-header cx-import-entries-header">
      <ng-container>
        <div class="cx-import-entries-title modal-title">
          {{ 'importEntriesDialog.importProducts' | cxTranslate }}
        </div>
      </ng-container>

      <button
        (click)="close('Close Import Products Dialog')"
        [attr.aria-label]="'importEntriesDialog.close' | cxTranslate"
        class="cx-import-entries-close close"
        type="button"
        [disabled]="(summary$ | async)?.loading"
      >
        <span aria-hidden="true">
          <cx-icon [type]="iconTypes.CLOSE"></cx-icon>
        </span>
      </button>
    </div>

    <!-- Modal Body -->
    <ng-container *ngIf="service$ | async as service">
      <ng-container *ngIf="formState; else importSummary" [ngSwitch]="cartType">
        <cx-import-to-new-saved-cart-form
          *ngIf="isNewCartForm(service)"
          (submitEvent)="importProducts(service, $event, cartId)"
        ></cx-import-to-new-saved-cart-form>

        <cx-import-entries-form
          (submitEvent)="importProducts(service, $event, cartId)"
          *ngSwitchDefault
        ></cx-import-entries-form>
      </ng-container>
    </ng-container>

    <ng-template #importSummary>
      <cx-import-entries-summary
        [summary]="summary$ | async"
        (closeEvent)="close('Close Import Products Dialog')"
      ></cx-import-entries-summary>
    </ng-template>
  </div>
</div>
