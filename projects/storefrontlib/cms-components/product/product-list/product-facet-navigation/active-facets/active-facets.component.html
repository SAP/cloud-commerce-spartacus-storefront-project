<ng-container *ngIf="facetList$ | async as facetList">
  <ng-container *cxFeatureLevel="'5.2'">
    <h2 *ngIf="facetList.activeFacets && facetList.activeFacets.length > 0">
      {{ 'productList.appliedFilter' | cxTranslate }}
    </h2>
  </ng-container>
  <ng-container *cxFeatureLevel="'!5.2'">
    <h4 *ngIf="facetList.activeFacets && facetList.activeFacets.length > 0">
      {{ 'productList.appliedFilter' | cxTranslate }}
    </h4>
  </ng-container>

  <a
    *ngFor="let facet of facetList?.activeFacets"
    routerLink="./"
    [queryParams]="getLinkParams(facet)"
    [cxFocus]="{ key: getFocusKey(facetList, facet) }"
    role="button"
    (keydown.space)="removeFilterWithSpacebar($event)"
    [attr.aria-label]="
      'productList.activeFilter' | cxTranslate: { filter: facet.facetValueName }
    "
  >
    <span>{{ facet.facetValueName }}</span>
    <cx-icon aria-hidden="true" [type]="closeIcon"></cx-icon>
  </a>
</ng-container>
