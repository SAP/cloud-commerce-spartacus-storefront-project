<div class="y-added-to-cart-dialog">
  <!-- Modal Header -->
  <div class="y-added-to-cart-dialog__header modal-header">
    <div class="y-added-to-cart-dialog__title modal-title" *ngIf="loaded$ | async; else loadingTitle">{{quantity}}
      item(s) added to your cart
    </div>
    <ng-template #loadingTitle>
      <div class="y-added-to-cart-dialog__title modal-title">Updating cart...</div>
    </ng-template>
    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <!-- Modal Body -->
  <ng-container *ngIf="(entry$ | async) as entry">
    <div class="y-added-to-cart-dialog__body modal-body">
      <div class="y-added-to-cart-dialog__info-container row" *ngIf="!(loaded$ | async)">
        <div class="col-sm-12">
          <y-spinner></y-spinner>
        </div>
      </div>
      <div class="y-added-to-cart-dialog__info-container row" *ngIf="loaded$ | async">
        <div class="y-added-to-cart-dialog__item-container col-sm-12 col-md-6" [formGroup]="form">
          <y-cart-item [item]="entry" [compact]="true" [isReadOnly]="true"></y-cart-item>
        </div>
        <!-- Separator -->
        <div class="y-added-to-cart-dialog__separator col-sm-12 d-xs-block d-sm-block d-md-none"></div>
        <!-- Total container -->
        <div class="y-added-to-cart-dialog__total-container col-sm-12 col-md-6">
          <div class="y-added-to-cart-dialog__total">
            <div>Cart total ({{ (cart$ | async).deliveryItemsQuantity }} items)</div>
            <div>{{ (cart$ | async).totalPrice.formattedValue}}</div>
          </div>
          <!-- Actions -->
          <div class="y-added-to-cart-dialog__actions">
            <a routerLink="/cart" class="btn btn-primary" (click)="activeModal.dismiss('Cross click')">view cart</a>
            <a routerLink="/checkout" class="btn btn-secondary" (click)="activeModal.dismiss('Cross click')">proceed to
              checkout</a>
          </div>
        </div>
      </div>
      <!-- Product Item Container -->
      <div *ngIf="more && (loaded$ | async)" class="y-added-to-cart-dialog__more-container row">
        <h2>You may also like</h2>
        <!-- <y-product-grid-item [product]="entry.product"></y-product-grid-item> -->
      </div>
    </div>
  </ng-container>
</div>
