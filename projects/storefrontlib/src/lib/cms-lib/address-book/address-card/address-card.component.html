<div class="cx-address-card-inner card">
  <div class="card-header" *ngIf="address?.defaultAddress && !editMode">
    &#10003; DEFAULT
  </div>
  <div
    class="card-body cx-card-body"
    [class.cx-address-card-delete-mode]="editMode"
  >
    <div *ngIf="editMode" class="cx-address-card-delete-msg">
      Are you sure you want to delete this address?
    </div>
    <div class="cx-address-data">
      <div class="cx-address-card-label-name">
        {{ address?.firstName }} {{ address?.lastName }}
      </div>
      <div class="cx-address-card-label">{{ address?.line1 }}</div>
      <div class="cx-address-card-label">{{ address?.line2 }}</div>
      <div class="cx-address-card-label">
        {{ address?.town }},
        <span *ngIf="!address?.region?.isocode">{{
          address?.country?.isocode
        }}</span
        ><span>{{ address?.region?.isocode }}</span>
      </div>
      <div class="cx-address-card-label">{{ address?.postalCode }}</div>
      <div class="cx-address-card-label">{{ address?.phone }}</div>
    </div>

    <div *ngIf="editMode" class="row cx-address-card-delete">
      <div class="col-md-6">
        <button class="btn btn-block btn-secondary" (click)="cancelEdit()">
          cancel
        </button>
      </div>
      <div class="col-md-6">
        <button
          (click)="deleteAddress(address.id)"
          class="btn btn-block btn-primary"
        >
          delete
        </button>
      </div>
    </div>
    <div *ngIf="!editMode" class="cx-address-card-actions">
      <a
        *ngIf="!address?.defaultAddress"
        (click)="setAddressAsDefault(address.id)"
        class="card-link btn-link set-default"
        >set as default</a
      >
      <a (click)="openEditFormEvent()" class="card-link btn-link edit">edit</a>
      <a (click)="setEditMode()" class="card-link btn-link delete">delete</a>
    </div>
  </div>
</div>
