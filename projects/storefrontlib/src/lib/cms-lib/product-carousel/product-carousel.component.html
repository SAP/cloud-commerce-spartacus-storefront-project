<h3 *ngIf="(component.data$ | async) as component">{{ component?.title }}</h3>

<div
  *ngIf="{ max: itemSize$ | async, products: items$ | async } as carousel"
  class="cx-carousel"
>
  <div class="previous" (click)="prev()"></div>

  <div class="groups">
    <ng-container *ngFor="let unused of carousel.products; let i = index">
      <div class="group" *ngIf="i % carousel.products.length === 0">
        <ng-container
          *ngFor="let product$ of (carousel.products | slice: i:carousel.max)"
        >
          <div
            *ngIf="(product$ | async) as product"
            class="product"
            [routerLink]="
              { route: [{ name: 'product', params: product }] } | cxTranslateUrl
            "
          >
            <cx-picture
              [imageContainer]="product.images?.PRIMARY"
              imageFormat="product"
            >
            </cx-picture>

            <h4>{{ product.name }}</h4>
            <div class="price">{{ product.price?.formattedValue }}</div>
          </div>
        </ng-container>
      </div>
    </ng-container>
  </div>

  <div class="next" (click)="next()"></div>
</div>
