<table *ngIf="dataset?.structure as structure">
  <thead *ngIf="!structure.options?.hideHeader">
    <tr>
      <th scope="col" *ngFor="let field of structure.fields" [class]="field">
        <ng-template
          [cxOutlet]="getHeaderOutletRef(field)"
          [cxOutletContext]="getHeaderOutletContext(field)"
        ></ng-template>
      </th>
      <th *ngIf="suffix" class="suffix">
        <ng-template cxOutlet="table.header.suffix"> </ng-template>
      </th>
    </tr>
  </thead>

  <tr
    *ngFor="let item of dataset.data"
    [class.is-current]="isCurrentItem(item)"
  >
    <td *ngFor="let field of structure.fields; let i = index" [class]="field">
      <ng-template
        [cxOutlet]="getDataOutletRef(field)"
        [cxOutletContext]="getDataOutletContext(field, item)"
      >
      </ng-template>
    </td>

    <td *ngIf="suffix" class="suffix">
      <ng-template cxOutlet="table.data.suffix"> </ng-template>
    </td>
  </tr>
</table>
