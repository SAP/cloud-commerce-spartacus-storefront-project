<ng-container *ngIf="showSameAsDeliveryAddressCheckbox$ | async">
  <div class="form-group">
    <div class="form-check">
      <label>
        <input
          type="checkbox"
          class="form-check-input"
          [checked]="sameAsDeliveryAddress"
          (change)="toggleSameAsDeliveryAddress()"
          [attr.aria-label]="
            'paymentForm.billingAddressSameAsShipping' | cxTranslate
          "
        />
        <span class="form-check-label">{{
          'paymentForm.sameAsDeliveryAddress' | cxTranslate
        }}</span>
      </label>
    </div>
  </div>
</ng-container>

<ng-container
  *ngIf="sameAsDeliveryAddress && (deliveryAddress$ | async) as deliveryAddress"
>
  <cx-card [content]="getAddressCardContent(deliveryAddress)"></cx-card>
</ng-container>

<ng-container *ngIf="userCustomBillingAddress && !editBillingAddress">
  <div class="cx-custom-address-info">
    <cx-card
      [content]="getAddressCardContent(userCustomBillingAddress)"
    ></cx-card>

    <button (click)="editCustomBillingAddress()">
      <cx-icon [type]="iconTypes.PENCIL"></cx-icon>
    </button>
  </div>
</ng-container>

<ng-container
  *ngIf="
    (!sameAsDeliveryAddress && !userCustomBillingAddress) ||
    (userCustomBillingAddress && editBillingAddress)
  "
>
  <cx-address-form
    [addressData]="userCustomBillingAddress"
    class="cx-form"
    [showTitleCode]="true"
    [showCancelBtn]="true"
    actionBtnLabel="{{ 'common.save' | cxTranslate }}"
    cancelBtnLabel="{{ 'common.cancel' | cxTranslate }}"
    (submitAddress)="verifyAddress($event)"
    (backToAddress)="cancelAndHideForm()"
    [setAsDefaultField]="false"
    [countries]="countries$"
  ></cx-address-form>
</ng-container>
